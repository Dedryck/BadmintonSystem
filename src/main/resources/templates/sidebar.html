<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <title>Sidebar</title>
</head>
<body>
<div th:fragment="sidebar">
    <!-- Sidebar content here -->
    <aside id="sidebar" class="sidebar">
        <div class="d-flex align-items-center justify-content-between mb-3">
            <div>
                <span th:text="${username}">用户名</span> (<span th:text="${role}">角色</span>)
            </div>
        </div>
        <ul class="sidebar-nav" id="sidebar-nav">
            <li class="nav-item">
                <a class="nav-link" th:classappend="${activePage == 'home' ? 'active' : ''}" href="/home">
                    <i class="bi bi-grid"></i>
                    <span>首页</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:classappend="${activePage == 'courtBookings' ? 'active' : ''}" href="/court-bookings">
                    <i class="bi bi-calendar-check"></i>
                    <span>球场预订情况</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:classappend="${activePage == 'equipmentRentals' ? 'active' : ''}" href="/equipment-rentals">
                    <i class="bi bi-bar-chart"></i>
                    <span>设备租借情况</span>
                </a>
            </li>
            <!-- New Feedback and Instructor Information Links -->
            <li class="nav-item">
                <a class="nav-link" th:classappend="${activePage == 'feedback' ? 'active' : ''}" href="/feedback">
                    <i class="bi bi-chat-dots"></i>
                    <span>用户信息反馈</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:classappend="${activePage == 'instructors' ? 'active' : ''}" href="/instructors">
                    <i class="bi bi-person-badge"></i>
                    <span>现有教练信息</span>
                </a>
            </li>


            <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                <a class="nav-link" th:classappend="${activePage == 'courtManagement' || activePage == 'courtBookingManagement' ? '' : 'collapsed'}" data-bs-target="#court-management-nav" data-bs-toggle="collapse" href="#" aria-expanded="${activePage == 'courtManagement' || activePage == 'courtBookingManagement' ? 'true' : 'false'}">
                    <i class="bi bi-gem"></i>
                    <span>球场管理（管理员）</span><i class="bi bi-chevron-down ms-auto"></i>
                </a>
                <ul id="court-management-nav" class="nav-content collapse" th:classappend="${activePage == 'courtManagement' || activePage == 'courtBookingManagement' ? 'show' : ''}" data-bs-parent="#sidebar-nav">
                    <li>
                        <a href="/court-booking-management" th:classappend="${activePage == 'courtBookingManagement' ? 'active' : ''}">
                            <i class="bi bi-circle"></i><span>球场预订管理</span>
                        </a>
                    </li>
                    <li>
                        <a href="/court-management" th:classappend="${activePage == 'courtManagement' ? 'active' : ''}">
                            <i class="bi bi-circle"></i><span>球场管理</span>
                        </a>
                    </li>
                </ul>
            </li>
            <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                <a class="nav-link" th:classappend="${activePage == 'equipmentManagement' ? '' : 'collapsed'}" data-bs-target="#equipment-management-nav" data-bs-toggle="collapse" href="#" aria-expanded="${activePage == 'equipmentManagement' ? 'true' : 'false'}">
                    <i class="bi bi-people"></i>
                    <span>设备管理（管理员）</span><i class="bi bi-chevron-down ms-auto"></i>
                </a>
                <ul id="equipment-management-nav" class="nav-content collapse" th:classappend="${activePage == 'equipmentManagement' ? 'show' : ''}" data-bs-parent="#sidebar-nav">
                    <li>
                        <a href="/equipment-management" th:classappend="${activePage == 'equipmentManagement' ? 'active' : ''}">
                            <i class="bi bi-circle"></i><span>设备管理</span>
                        </a>
                    </li>
                </ul>
            </li>
            <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                <a class="nav-link" th:classappend="${activePage == 'staffManagement' ? 'active' : ''}" href="/staff-management">
                    <i class="bi bi-person"></i>
                    <span>人员管理（管理员）</span>
                </a>
            </li>


            <!-- New Admin Feedback and Instructor Management Links -->
            <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                <a class="nav-link" th:classappend="${activePage == 'feedbackManagement' ? 'active' : ''}" href="/feedback-management">
                    <i class="bi bi-chat-dots-fill"></i>
                    <span>用户信息反馈管理</span>
                </a>
            </li>
            <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                <a class="nav-link" th:classappend="${activePage == 'instructorManagement' ? 'active' : ''}" href="/instructor-management">
                    <i class="bi bi-person-badge-fill"></i>
                    <span>教练信息管理</span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link" th:classappend="${activePage == 'logout' ? 'active' : ''}" href="/logout">
                    <i class="bi bi-box-arrow-right"></i>
                    <span>退出</span>
                </a>
            </li>
        </ul>
    </aside><!-- End Sidebar-->
</div>
</body>
</html>
